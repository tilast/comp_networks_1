////  client.c//  comp_networks////  Created by Ihor Krush on 10/6/15.//  Copyright © 2015 Ihor Krush. All rights reserved.//#include <stdio.h>#include <sys/types.h>#include <sys/socket.h>#include <netinet/in.h>#include <arpa/inet.h>#include <stdlib.h>#define FIRST_AMOUNT 2#define FIRST_TYPE int#define FIRST_TYPE_FORMAT "%d "#define SECOND_AMOUNT 5#define SECOND_TYPE int#define SECOND_TYPE_FORMAT "%d "#define PORT 7500int main(int argc, const char * argv[]) {    struct sockaddr_in peer;    int s;    int rc;        FIRST_TYPE* first_buf = (FIRST_TYPE*)malloc(sizeof(FIRST_TYPE) * FIRST_AMOUNT);    SECOND_TYPE* second_buf = (SECOND_TYPE*)malloc(sizeof(SECOND_TYPE) * SECOND_AMOUNT);        peer.sin_family = AF_INET;    peer.sin_port = htons(PORT);    peer.sin_addr.s_addr = inet_addr("127.0.0.1");        s = socket(AF_INET, SOCK_STREAM, 0);        if(s < 0) {        perror("[ERROR] socket");        exit(1);    }        rc = connect(s, (struct sockaddr *)&peer, sizeof(peer));        if(rc) {        perror("[ERROR] during connect");        exit(1);    }        rc = recv(s, first_buf, sizeof(FIRST_TYPE) * FIRST_AMOUNT, 0);        if(rc < 0) {        perror("[ERROR] recv error");        exit(1);    } else {        for(int i = 0; i < FIRST_AMOUNT; ++i) {            printf(FIRST_TYPE_FORMAT, first_buf[i]);        }        printf("\n");    }        rc = recv(s, second_buf, sizeof(SECOND_TYPE) * SECOND_AMOUNT, 0);        if(rc < 0) {        perror("[ERROR] recv error");        exit(1);    } else {        for(int i = 0; i < SECOND_AMOUNT; ++i) {            printf(SECOND_TYPE_FORMAT, second_buf[i]);        }        printf("\n");    }        return 0;}